{"version":3,"sources":["lib/antd-tinymce.js","subpages/AddArticle.js","fragments/ArticleCardPreview.js","assets/cardDefBg.webp","fragments/SideMenu.js","subpages/NotFound.js","fragments/SignIn.js","fragments/TopAppBar.js","subpages/LinkMgmt.js","subpages/Landing.js","subpages/ArticleMgmt.js","assets/placeholder.svg","subpages/ImgMgmt.js","App.js","reportWebVitals.js","index.js"],"names":["defaultPlugins","defaultMenubar","defaultToolbar","join","defaultOptions","menubar","apiKey","Editor","nextProps","nextState","nextContext","this","props","value","onChange","plugins","toolbar","options","initOptions","Object","assign","initialValue","init","onEditorChange","React","Component","config","key","setDefaultPlugins","setDefaultMenubar","setDefaultToolbar","setDefaultOptions","db","storageRef","memo","setVote","vote","imgURL","sum","title","hideVote","style","border","borderRadius","overflow","maxWidth","flexDirection","flex","width","alignItems","shape","type","icon","ArrowUpOutlined","fontSize","onClick","o","v","margin","Text","fontWeight","lineHeight","textAlign","color","placement","ArrowDownOutlined","flexGrow","marginBottom","QuestionCircleOutlined","padding","Title","trim","length","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","aspectRatio","AddArticle","Form","useForm","form","useState","setTitle","setSum","setHideVote","mockVotes","setMockVotes","user","setUser","coverURL","setCoverURL","uploading","setUploading","editorRef","useRef","useEffect","firebase","auth","onAuthStateChanged","firestore","storage","ref","previewImg","file","a","src","url","Promise","resolve","reader","FileReader","readAsDataURL","originFileObj","onload","result","Image","window","open","document","write","name","onFinish","console","log","collection","doc","Date","toString","set","body","fileUpload","response","downloadURL","uid","time","then","updateMetadata","customMetadata","resetFields","message","success","catch","e","warn","error","onValuesChange","c","localStorage","tempArticle","compress","JSON","stringify","initialValues","parse","decompress","Item","label","rules","required","target","extra","onInit","editor","current","contextmenu","images_reuse_filename","images_upload_handler","info","failure","progress","task","child","uuidv4","filename","put","blob","on","snapshot","bytesTransferred","totalBytes","getDownloadURL","branding","skin","skin_url","checked","checkedChildren","CheckOutlined","unCheckedChildren","CloseOutlined","Dragger","customRequest","opt","onSuccess","onError","onProgress","percent","maxCount","listType","onPreview","beforeUpload","isJpgOrPng","isLt2M","size","Upload","LIST_IGNORE","onRemove","d","delete","className","FileImageOutlined","htmlType","loading","DeleteOutlined","onConfirm","okButtonProps","danger","okText","cancelText","marginLeft","level","cardPlaceholder","marginTop","SubMenu","Menu","menuKeys","menuMap","add","man","mod","page","includes","openKeys","setOpenKeys","onOpenChange","keys","latestOpenKey","find","indexOf","selectedKeys","mode","PlusOutlined","to","UnorderedListOutlined","SafetyOutlined","status","subTitle","href","uiConfig","signInFlow","callbacks","signInSuccess","signInOptions","SignIn","visible","setVisible","usrInfo","setUsrInfo","isLoggedIn","Boolean","displayName","email","centered","destroyOnClose","footer","onOk","onCancel","code","LogoutOutlined","signOut","firebaseAuth","loginOpen","setLoginOpen","onBack","history","back","UserOutlined","HomeOutlined","marginRight","MenuOutlined","LinkMgmt","articles","setArticles","setLoading","onSnapshot","snap","data","tip","defaultActiveKey","destroyInactivePanel","map","Panel","header","backgroundColor","link","merge","DomPurify","addHook","node","tagName","getAttribute","startsWith","parentNode","removeChild","ArticleMgmt","openDel","setOpenDel","t","forEach","push","_key","id","article","destroyTooltipOnHide","onVisibleChange","content","stopPropagation","trigger","parseInt","height","fallback","placeholder","dangerouslySetInnerHTML","__html","sanitize","ADD_TAGS","ADD_ATTR","italic","ImgMgmt","imagePosts","setImagePosts","listAll","res","items","itemRef","getMetadata","imagePost","caption","timeCreated","URL","pages","path","elem","App","minHeight","p","exact","ps","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initializeApp","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","appCheck","activate","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7aafdffe.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Editor as TinyMCE } from '@tinymce/tinymce-react';\n\nlet defaultPlugins = [\n    'advlist autolink lists link image charmap print preview anchor hr',\n    'searchreplace visualblocks fullscreen',\n    'insertdatetime table paste code wordcount'\n];\nlet defaultMenubar = 'file edit view insert format tools table tc';\nlet defaultToolbar = [\n    'formatselect bold italic underline forecolor',\n    'alignleft aligncenter alignright alignjustify bullist numlist outdent indent',\n    'link',\n    'undo redo',\n    'hr fullscreen',\n].join('|');\nlet defaultOptions = {\n    menubar: 'edit insert format table'\n}\n\n// apiKey for TinyMCE\nlet apiKey = 'jmqj7w1ihjd7561wrckugckoxwytq694mx57h29bonaq86it';\n\nclass Editor extends React.Component {\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        return false;\n    }\n\n    render() {\n        const { value, onChange, plugins, menubar, toolbar, options = {}, ...props } = this.props;\n        let initOptions = Object.assign({}, defaultOptions, options);\n\n        return (\n            <TinyMCE\n                {...props}\n                apiKey={ apiKey }\n                initialValue={ value }\n                init={{\n                    plugins: typeof plugins !== 'undefined' ? plugins : defaultPlugins,\n                    menubar: typeof menubar !== 'undefined' ? menubar : defaultMenubar,\n                    toolbar: typeof toolbar !== 'undefined' ? toolbar : defaultToolbar,\n                    ...initOptions,\n                }}\n                onEditorChange={ onChange } />\n        );\n    }\n}\n\nEditor.config = key => apiKey = key;\nEditor.setDefaultPlugins = plugins => defaultPlugins = plugins;\nEditor.setDefaultMenubar = menubar => defaultMenubar = menubar;\nEditor.setDefaultToolbar = toolbar => defaultToolbar = toolbar;\nEditor.setDefaultOptions = options => defaultOptions = options;\n\nEditor.propTypes = {\n    plugins: PropTypes.array,\n    toolbar: PropTypes.string,\n    menubar: PropTypes.oneOfType([ PropTypes.string, PropTypes.bool ]),\n    onChange: PropTypes.func,\n    value: PropTypes.string,\n}\n\nexport default Editor;","import { Typography, Form, Input, Switch, Button, Upload, Popconfirm, message } from 'antd';\nimport Editor from '../lib/antd-tinymce';\nimport { CloseOutlined,\n    CheckOutlined,\n    FileImageOutlined,\n    DeleteOutlined,\n} from '@ant-design/icons';\nimport { useEffect, useRef, useState } from 'react';\n\nimport firebase from 'firebase/app';\nimport { v4 as uuidv4 } from 'uuid';\nimport {compress, decompress} from 'lz-string';\nimport ArticleCardPreview from '../fragments/ArticleCardPreview';\n\nimport cardPlaceholder from '../assets/cardDefBg.webp';\n\nlet db, storageRef;\n\nexport default function AddArticle() {\n    const [form] = Form.useForm();\n\n    const [title, setTitle] = useState(''),\n        [sum, setSum] = useState(''),\n        [hideVote, setHideVote] = useState(false),\n        [mockVotes, setMockVotes] = useState(0),\n        [user, setUser] = useState({}),\n        [coverURL, setCoverURL] = useState(null),\n        [uploading, setUploading] = useState(false),\n        editorRef = useRef();\n\n    useEffect(() => {\n        firebase.auth().onAuthStateChanged(setUser);\n        db = firebase.firestore();\n        storageRef = firebase.storage().ref();\n    }, []);\n\n    const uploadImg = opt => {\n        const { onSuccess, onError, file, onProgress } = opt;\n        const task = storageRef.child('articleAttachments/' + uuidv4() + '-' + file.name).put(file);\n\n        task.on('state_changed', (snapshot) =>\n            {\n                // Observe state change events such as progress, pause, and resume\n                // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                onProgress({ percent: progress });\n            },\n            (error) => {\n                // Handle unsuccessful uploads\n                onError('Upload failed: ' + error.message);\n            },\n            () => {\n                // Handle successful uploads on complete\n                // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n                task.snapshot.ref.getDownloadURL().then((downloadURL) => {\n                    setCoverURL(downloadURL);\n                    onSuccess({\n                        downloadURL,\n                        ref: task.snapshot.ref\n                    });\n                });\n            }\n        );\n    }\n\n    const verifyUpload = file => {\n        const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png' || file.type === 'image/webp';\n        if (!isJpgOrPng) message.error('Unsupported file format').then();\n        const isLt2M = file.size / 1024 / 1024 < 5;\n        if (!isLt2M) message.error('Image must smaller than 5MB').then();\n        return (isJpgOrPng && isLt2M) ? true : Upload.LIST_IGNORE;\n    }\n\n    const previewImg = async file => {\n        let src = file.url;\n        if (!src) {\n            src = await new Promise(resolve => {\n                const reader = new FileReader();\n                reader.readAsDataURL(file.originFileObj);\n                reader.onload = () => resolve(reader.result);\n            });\n        }\n        const image = new Image();\n        image.src = src;\n        const imgWindow = window.open(src);\n        imgWindow.document.write(`<head><title>NE Admin - Preview of ${file.name}</title></head><body style=\"margin:0;min-height:100vh;\n        background-image:url('${src}');background-size:contain;background-position:center;background-repeat:no-repeat;background-color:#000\">\n        </body>`);\n    };\n\n    const tinyMCEUpload = (info, success, failure, progress) => {\n        const task = storageRef.child('editorImages/' + uuidv4() + '-' + info.filename()).put(info.blob());\n\n        task.on('state_changed', (snapshot) =>\n            {\n                // Observe state change events such as progress, pause, and resume\n                // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                progress((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n            },\n            (error) => {\n                // Handle unsuccessful uploads\n                failure('Upload failed: ' + error.message);\n            },\n            () => {\n                // Handle successful uploads on complete\n                // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n                task.snapshot.ref.getDownloadURL().then((downloadURL) => {\n                    success(downloadURL);\n                });\n            }\n        );\n    }\n\n    return <>\n        <Typography.Title>Add Articles</Typography.Title>\n        <Form\n            form={form}\n            onFinish={v => {\n                setUploading(true);\n                console.log(v)\n                db.collection('articles').doc((+new Date()).toString()).set({\n                    title: v.title, sum: v.sum, body: v.body, hideVote: !!v.hideVote, coverURL: v.fileUpload.file.response.downloadURL,\n                    uid: user.uid, time: +new Date(),\n                }).then(() => {\n                    v.fileUpload.file.response.ref.updateMetadata({\n                        customMetadata: {\n                            'permanent': 'yes',\n                        }\n                    }).then(() => {\n                        // metadata.contentType should be null\n                        setUploading(false);\n                        form.resetFields();\n                        message.success('Added article').then();\n                    }).catch(e => {\n                        // Uh-oh, an error occurred!\n                        setUploading(false);\n                        form.resetFields();\n                        message.warn('Added article but failed to modify file metadata');\n                    });\n                }).catch(e => {\n                    setUploading(false);\n                    message.error('We ran into an error adding this article. Please try again later').then();\n                    console.error(e);\n                });\n            }}\n            onValuesChange={(c, v) => localStorage.tempArticle = compress(JSON.stringify(v))}\n            initialValues={localStorage.tempArticle ? JSON.parse(decompress(localStorage.tempArticle)) : {}}\n            name='article'>\n            <Form.Item label='Title'\n                       name='title'\n                       rules={[{required: true, message: 'Imagine an article without a title...'}]}>\n                <Input onChange={e => setTitle(e.target.value)} />\n            </Form.Item>\n            <Form.Item label='Description/summary' onChange={e => setSum(e.target.value)} name='sum'\n                       rules={[{required: true, message: 'An article without a summary is boring...'}]}\n                       extra='A short summary of this article, displayed below the title in the article card'><Input /></Form.Item>\n\n            <Form.Item label='Body' name='body' extra='Drag the lower right corner of editor to resize'\n                       rules={[{ required: true, message: 'Article without body = no article' }]}>\n                <Editor onInit={(e, editor) => editorRef.current = editor}\n                        options={{\n                            contextmenu: 'copy paste',\n                            images_reuse_filename: true,\n                            images_upload_handler: tinyMCEUpload,\n                            branding: false,\n                            skin: 'custom_dark',\n                            skin_url: 'https://cryptoalgorithm.github.io/tinyMCE-theme/custom_dark'\n                        }}\n                />\n            </Form.Item>\n\n            <Form.Item label='Hide votes' extra='Number of votes will not appear and can only be viewed by admins' name='hideVote'>\n                <Switch\n                    checked={hideVote}\n                    onChange={setHideVote}\n                    checkedChildren={<CheckOutlined />}\n                    unCheckedChildren={<CloseOutlined />}/>\n            </Form.Item>\n            <Form.Item label='Upload cover image' name='fileUpload'\n                       extra='Recommended dimensions: at least 600px wide, 16:9 aspect ratio, smaller than 10MB'\n                       rules={[{ required: true, message: 'Please input your username!' }]}>\n                <Upload.Dragger name='files' customRequest={uploadImg} maxCount={1} listType='picture-card' onPreview={previewImg}\n                                beforeUpload={verifyUpload} onRemove={d => d.response.ref.delete().then(() => {\n                    message.success('Deleted file ' + d.name).then();\n                    setCoverURL(null);\n                }).catch(e => {\n                    console.error(e);\n                    message.error('Failed to delete file ' + d.name).then();\n                })}>\n                    <p className='ant-upload-drag-icon'>\n                        <FileImageOutlined />\n                    </p>\n                    <p className='ant-upload-text'>Click or drag an image to this area to upload</p>\n                    <p className='ant-upload-hint'>This image will be displayed in the article card</p>\n                </Upload.Dragger>\n            </Form.Item>\n\n            <Form.Item>\n                <Button type='primary' htmlType='submit' loading={uploading}>Add article</Button>\n                <Popconfirm\n                    icon={<DeleteOutlined style={{color: 'red'}} />}\n                    title='Clear form? Removes all entered data and cannot be undone'\n                    onConfirm={() => form.resetFields()}\n                    okButtonProps={{danger: true}}\n                    okText='Clear'\n                    cancelText='Cancel'>\n                    <Button danger htmlType='button' style={{marginLeft: '.5rem'}}>Clear form</Button>\n                </Popconfirm>\n            </Form.Item>\n        </Form>\n\n        <Typography.Title level={4}>Article Card Preview</Typography.Title>\n        <Typography.Text>A preview of the article card as it would be displayed</Typography.Text>\n\n        <ArticleCardPreview setVote={setMockVotes} vote={mockVotes} imgURL={coverURL ?? cardPlaceholder}\n                            style={{marginTop: '1rem'}} {...{sum, title, hideVote}} />\n    </>\n}\n","import { memo } from 'react';\nimport { Typography, Button, Layout, Tooltip } from 'antd';\nimport { ArrowUpOutlined,\n    ArrowDownOutlined,\n    QuestionCircleOutlined,\n} from '@ant-design/icons';\n\nexport default memo(function ArticleCardPreview({setVote, vote, imgURL, sum, title, hideVote, style}) {\n    return <div style={{border: '1px solid #444', borderRadius: 7, overflow: 'hidden', maxWidth: 640, ...style}}>\n        <Layout style={{flexDirection: 'row'}}>\n            <Layout style={{flex: 'none', width: 48, alignItems: 'center'}}>\n                <Tooltip title='Upvote'>\n                    <Button shape='circle' type='text' icon={<ArrowUpOutlined style={{fontSize: '1.2em'}} />}\n                            onClick={() => {\n                                let o = true;\n                                setVote(v => {\n                                    if (!o) return v;\n                                    o = false;\n                                    return ++v;\n                                });\n                            }}\n                            style={{margin: '6px 6px 0 6px'}} />\n                </Tooltip>\n                <Typography.Text style={{fontWeight: 500, fontSize: '0.875rem', lineHeight: 1.57, textAlign: 'center',\n                    color: 'rgba(255, 255, 255, .7)'}}>{hideVote ? 'Vote' : vote}</Typography.Text>\n                <Tooltip title='Downvote' placement='bottom'>\n                    <Button shape='circle' type='text'\n                            onClick={() => {\n                                let o = true;\n                                setVote(v => {\n                                    if (!o) return v;\n                                    o = false;\n                                    return --v;\n                                });\n                            }}\n                            icon={<ArrowDownOutlined style={{fontSize: '1.2em'}} />} />\n                </Tooltip>\n                <div style={{flexGrow: 1}} />\n                <Tooltip title='Info'>\n                    <Button shape='circle' type='text' style={{marginBottom: 12}}\n                            icon={<QuestionCircleOutlined style={{fontSize: '1.5em'}} />} />\n                </Tooltip>\n            </Layout>\n            <Layout>\n                <Layout style={{padding: '6px 10px 10px'}}>\n                    <Typography.Title style={{fontWeight: 500, fontSize: '1.25rem', lineHeight: 1.6, marginBottom: 0}}>\n                        {title.trim().length === 0 ? 'Article Title' : title}\n                    </Typography.Title>\n                    <Typography.Text style={{fontWeight: 400, fontSize: '0.875rem', lineHeight: 1.43, color: 'rgba(255, 255, 255, .7)'}}>\n                        {sum.trim().length === 0 ? 'Article Description/summary' : sum}\n                    </Typography.Text>\n                </Layout>\n                <div style={{\n                    backgroundImage: `url(\"${imgURL}\")`,\n                    backgroundSize: 'contain',\n                    backgroundRepeat: 'no-repeat',\n                    backgroundPosition: 'center',\n                    aspectRatio: '16/9',\n                    width: '100%'\n                }} />\n            </Layout>\n        </Layout>\n    </div>\n})","export default __webpack_public_path__ + \"static/media/cardDefBg.e6e41d76.webp\";","import { memo, useState } from 'react';\nimport { Menu } from 'antd';\nimport { UnorderedListOutlined, SafetyOutlined, PlusOutlined } from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\n\nconst { SubMenu } = Menu;\n\nconst menuKeys = ['add', 'man', 'mod'];\n\nconst menuMap = {\n    add: ['addArticle'],\n    man: ['articleMgmt', 'linkMgmt'],\n    mod: ['imgMod'],\n}\n\nexport default memo(function SideMenu({page}) {\n    const [openKeys, setOpenKeys] = useState((() => {\n        for (let key in menuMap) if (menuMap[key].includes(page)) return [key];\n        return [];\n    })());\n\n    const onOpenChange = keys => {\n        const latestOpenKey = keys.find(key => openKeys.indexOf(key) === -1);\n        if (menuKeys.indexOf(latestOpenKey) === -1) {\n            setOpenKeys(keys);\n        } else {\n            setOpenKeys(latestOpenKey ? [latestOpenKey] : []);\n        }\n    };\n\n    return <Menu\n        onOpenChange={onOpenChange}\n        openKeys={openKeys}\n        style={{ width: 256 }}\n        selectedKeys={page}\n        mode='inline'>\n        <SubMenu key='add' icon={<PlusOutlined />} title='Add'>\n            <Menu.Item key='addArticle'><Link to={'/addArticle'}>Add Articles</Link></Menu.Item>\n        </SubMenu>\n        <SubMenu key='man' icon={<UnorderedListOutlined />} title='Manage'>\n            <Menu.Item key='articleMgmt'><Link to={'/articleMgmt'}>Article Management</Link></Menu.Item>\n            <Menu.Item key='linkMgmt'><Link to={'/linkMgmt'}>Link Management</Link></Menu.Item>\n        </SubMenu>\n        <SubMenu key='mod' icon={<SafetyOutlined />} title='Moderate'>\n            <Menu.Item key='imgMod'><Link to={'/imgMod'}>Image Post Moderation</Link></Menu.Item>\n        </SubMenu>\n    </Menu>\n})","import { Result, Button } from 'antd';\nimport { memo } from 'react';\n\nexport default memo(function NotFound() {\n    return <>\n        <Result\n            status='404'\n            title='Error 404 - Not found'\n            subTitle=\"Oops, the page you're looking for could not be found\"\n            extra={<Button type='primary' href='/'>Go to home</Button>}\n        />\n    </>\n});","import { Button, Modal, Typography, Layout } from 'antd';\nimport { LogoutOutlined } from '@ant-design/icons';\n\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\n\nimport { useEffect, useState } from 'react';\n\nimport firebase from 'firebase/app';\n\nconst uiConfig = {\n    // Popup signin flow rather than redirect flow.\n    signInFlow: 'popup',\n    callbacks: {\n        signInSuccess: () => false, // Do not redirect\n    },\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [\n        'microsoft.com',\n    ],\n};\n\nexport default function SignIn({visible, setVisible}) {\n    const [usrInfo, setUsrInfo] = useState({}),\n    isLoggedIn = Boolean(usrInfo);\n\n    useEffect(() => {\n        firebase.auth().onAuthStateChanged((user) => setUsrInfo(!!user ? {name: user.displayName, uid: user.uid, email: user.email} : null))\n    }, []);\n\n    return <Modal title='Account'\n                  centered\n                  destroyOnClose\n                  footer={[<Button onClick={() => setVisible(false)} key='close'>Close</Button>]}\n                  visible={visible}\n                  onOk={() => setVisible(false)}\n                  onCancel={() => setVisible(false)}>\n        {\n            isLoggedIn && <Layout>\n                <Typography.Title level={4}>User Info</Typography.Title>\n                <Typography.Text>Display Name: {usrInfo.name}</Typography.Text>\n                <Typography.Text>Email: {usrInfo.email}</Typography.Text>\n                <Typography.Text>UID:<Typography.Text code>{usrInfo.uid}</Typography.Text></Typography.Text>\n                <Typography.Text type='secondary' style={{marginTop: '.25rem'}}>This info is private and only visible to you</Typography.Text>\n\n                <Button style={{marginTop: '.5rem'}} icon={<LogoutOutlined />} danger onClick={() => firebase.auth().signOut()}>Sign out</Button>\n            </Layout>\n        }\n        {!isLoggedIn && <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />}\n    </Modal>\n}","import { memo, useState } from 'react';\nimport { PageHeader, Button } from 'antd';\nimport { UserOutlined } from '@ant-design/icons';\nimport SignIn from './SignIn';\n\nexport default memo(function TopAppBar({page}) {\n    const [loginOpen, setLoginOpen] = useState(false);\n\n    return <>\n            <PageHeader\n            onBack={() => window.history.back()}\n            title='NE Things Admin'\n            subTitle={page}\n            extra={[<Button type='primary' icon={<UserOutlined />} onClick={() => setLoginOpen(true)} key='login'>Account</Button>]}\n        />\n        <SignIn visible={loginOpen} setVisible={setLoginOpen} />\n    </>\n})","import { Typography, Collapse, Form, Button, Layout, Spin, Input } from 'antd';\n\nimport DomPurify from 'dompurify';\n\nimport firebase from 'firebase/app';\nimport { useEffect, useState } from 'react';\n\nlet db;\n\nDomPurify.addHook('uponSanitizeElement', (node, data) => {\n    if (data.tagName === 'iframe') {\n        const src = node.getAttribute('src') || '';\n        if (!src.startsWith('https://www.youtube.com/embed/')) {\n            return node.parentNode.removeChild(node);\n        }\n    }\n});\n\nexport default function LinkMgmt() {\n    const [articles, setArticles] = useState({}),\n        [loading, setLoading] = useState(true),\n        [openDel, setOpenDel] = useState(null);\n\n    useEffect(() => {\n        db = firebase.firestore();\n\n        db.collection('configurableElements')\n            .doc('links')\n            .onSnapshot(snap => {\n                setArticles(snap.data());\n                // const t = [];\n                // snap.forEach(doc => t.push({ ...doc.data(), _key: doc.id }));\n                // setArticles(t);\n                setLoading(false);\n            });\n    }, []);\n\n    return <>\n        <Typography.Title>Link Management</Typography.Title>\n        {\n            loading && <>\n                <Spin size='large' tip='Loading links from database...' />\n            </>\n        }\n        {\n            (articles.length === 0 && !loading) && <Typography.Text >\n                No Articles. Go to \"Add Articles\" to add the first article!\n            </Typography.Text>\n        }\n        {\n            (articles.length !== 0 && !loading) && <Collapse defaultActiveKey={['1']} style={{borderRadius: 7}} destroyInactivePanel>\n                {\n                    Object.keys(articles).map(name =>\n                        <Collapse.Panel header={name} key={name}>\n                            <Layout>\n                                <Typography.Title level={5}>Link Title: {name}</Typography.Title>\n                                <Typography.Text> Link: <a href={'//'+articles[name]}>{articles[name]}</a></Typography.Text>\n\n                            </Layout>\n                        </Collapse.Panel>\n                    )\n                }\n                <Collapse.Panel header='Add another link' style={{backgroundColor: '#177ddc'}}>\n                    <Form onFinish={v => db.collection('configurableElements').doc('links').set({\n                        [v.title]: v.link\n                    }, {merge: true})}>\n                        <Form.Item label='Title'\n                                   name='title'\n                                   rules={[{required: true, message: ''}]}>\n                            <Input/>\n                        </Form.Item>\n                        <Form.Item label='Link'\n                                   name='link'\n                                   rules={[{required: true, message: ''}]}>\n                            <Input/>\n                        </Form.Item>\n                        <Button type='primary' htmlType='submit'>Add article</Button>\n                    </Form>\n                </Collapse.Panel>\n            </Collapse>\n        }\n    </>\n}\n","import { Typography } from 'antd';\nimport { memo } from 'react';\n\nimport { HomeOutlined, MenuOutlined } from '@ant-design/icons';\n\nexport default memo(function Landing() {\n    return <>\n        <HomeOutlined style={{fontSize: '12em', marginBottom: '1rem', marginRight: 'auto'}} />\n        <Typography.Title>Hi there!</Typography.Title>\n        <Typography.Text>Click on one of the items in the menu <MenuOutlined /> to get started!</Typography.Text>\n    </>\n});","import { Typography, Collapse, Popover, Button, Layout, Spin, Image, Space, message } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\n\nimport '../article.css';\n\nimport placeholder from '../assets/placeholder.svg';\n\nimport DomPurify from 'dompurify';\n\nimport firebase from 'firebase/app';\nimport { useEffect, useState } from 'react';\nimport ArticleCardPreview from '../fragments/ArticleCardPreview';\nimport cardPlaceholder from '../assets/cardDefBg.webp';\n\nlet db;\n\nDomPurify.addHook('uponSanitizeElement', (node, data) => {\n    if (data.tagName === 'iframe') {\n        const src = node.getAttribute('src') || '';\n        if (!src.startsWith('https://www.youtube.com/embed/')) {\n            return node.parentNode.removeChild(node);\n        }\n    }\n});\n\nexport default function ArticleMgmt() {\n    const [articles, setArticles] = useState([]),\n        [loading, setLoading] = useState(true),\n        [openDel, setOpenDel] = useState(null);\n\n    useEffect(() => {\n        db = firebase.firestore();\n\n        db.collection('articles')\n            .onSnapshot(snap => {\n                const t = [];\n                snap.forEach(doc => t.push({ ...doc.data(), _key: doc.id }));\n                setArticles(t);\n                setLoading(false);\n            });\n    }, []);\n\n    return <>\n        <Typography.Title>Article Management</Typography.Title>\n        {\n            loading && <>\n                <Spin size='large' tip='Loading articles from database...' />\n            </>\n        }\n        {\n            (articles.length === 0 && !loading) && <Typography.Text >\n                No Articles. Go to \"Add Articles\" to add the first article!\n            </Typography.Text>\n        }\n        {\n            (articles.length !== 0 && !loading) && <Collapse defaultActiveKey={['1']} style={{borderRadius: 7}} destroyInactivePanel>\n                {\n                    articles.map(article =>\n                        <Collapse.Panel header={article.title} key={article._key}\n                                        extra={<Popover destroyTooltipOnHide visible={openDel === article._key}\n                                                        onVisibleChange={v => v ? setOpenDel(article._key) : setOpenDel(null)}\n                                                        content={<Layout onClick={e => e.stopPropagation()}>\n                                                            <Typography.Text style={{fontWeight: 700, fontSize: '1.2em'}}>\n                                                                Confirm Delete\n                                                            </Typography.Text>\n                                                            <Typography.Text>This action cannot be undone</Typography.Text>\n                                                            <Button danger type='primary' onClick={() => {\n                                                                db.collection('articles').doc(article._key).delete().then(() =>\n                                                                    message.success(`Deleted article '${article.title}'`).then())\n                                                                    .catch(e => {\n                                                                        console.error(e);\n                                                                        message.error(\"Couldn't delete article. Please try again later\")\n                                                                            .then();\n                                                                });\n                                                                setOpenDel(null); // Close popover\n                                                            }} style={{marginTop: '.25rem'}}>Delete Permanently</Button>\n                                                        </Layout>} trigger='click' onClick={e => {\n                                            // Prevent click from propagating to collapse\n                                            e.stopPropagation();\n                                        }}><Button icon={<DeleteOutlined style={{fontSize: 20}} />} danger size='small' type='text' />\n                                        </Popover>}>\n                            <Layout>\n                                <Typography.Title level={5}>Information for article '{article.title}'</Typography.Title>\n                                <Typography.Text>Description: <span style={{fontWeight: 600}}>{article.sum}</span></Typography.Text>\n                                <Typography.Text>Votes are&nbsp;\n                                    <span style={{fontWeight: 600, color: article.hideVote ? 'red' : 'green'}}>\n                                    {article.hideVote ? 'hidden' : 'visible'}\n                                </span>\n                                </Typography.Text>\n                                <Typography.Text>\n                                    Time Added: <span style={{fontWeight: 600}}>{new Date(parseInt(article._key.toString())).toString()}</span>\n                                </Typography.Text>\n\n                                <Typography.Title level={5}>Cover Image</Typography.Title>\n                                <Space style={{marginBottom: '.5rem'}}>\n                                    <Image width='auto' height={150} src={article.coverURL ?? ''} style={{width: 'auto', borderRadius: 5}}\n                                           fallback={placeholder}\n                                    />\n                                </Space>\n\n                                <Collapse style={{borderRadius: 6}} destroyInactivePanel>\n                                    <Collapse.Panel header='Article Body'>\n                                        <div dangerouslySetInnerHTML={{__html: DomPurify.sanitize(article.body, {\n                                                ADD_TAGS: ['iframe'], // or ALLOWED_TAGS\n                                                ADD_ATTR: ['allow', 'allowfullscreen', 'frameborder', 'scrolling'],//or //or ALLOWED_ATR\n                                            })}} className='artCont'\n                                             style={{padding: '1rem', borderRadius: 5, border: '1px solid #444'}} />\n                                        <Typography.Text type='secondary' italic={1} style={{marginTop: '.1rem'}}>\n                                            This is a preview - There might be subtle differences when viewed on the website\n                                        </Typography.Text>\n                                    </Collapse.Panel>\n                                    <Collapse.Panel header='Card Preview'>\n                                        <ArticleCardPreview setVote={() => {}} vote={0} style={{margin: 'auto'}} hideVote={article.hideVote}\n                                                            imgURL={article.coverURL ?? cardPlaceholder} title={article.title} sum={article.sum}\n                                        />\n                                    </Collapse.Panel>\n                                </Collapse>\n                            </Layout>\n                        </Collapse.Panel>\n                    )\n                }\n            </Collapse>\n        }\n    </>\n}","export default __webpack_public_path__ + \"static/media/placeholder.9c0edb23.svg\";","import { Typography, Collapse, Popover, Button, Layout, Spin, Image, Space, message } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport placeholder from '../assets/placeholder.svg';\n\nimport DomPurify from 'dompurify';\n\nimport firebase from 'firebase/app';\nimport { useEffect, useState } from 'react';\nimport cardPlaceholder from '../assets/cardDefBg.webp';\n\nlet storage;\n\nDomPurify.addHook('uponSanitizeElement', (node, data) => {\n    if (data.tagName === 'iframe') {\n        const src = node.getAttribute('src') || '';\n        if (!src.startsWith('https://www.youtube.com/embed/')) {\n            return node.parentNode.removeChild(node);\n        }\n    }\n});\n\nexport default function ImgMgmt() {\n    const [imagePosts, setImagePosts] = useState([]),\n        [loading, setLoading] = useState(true),\n        [openDel, setOpenDel] = useState(null);\n\n    useEffect(() => {\n        storage = firebase.storage();\n        storage.ref('userPostImages').listAll().then(async (res) => {\n            const t = []\n            for (const itemRef of res.items) {\n                t.push({\"URL\": await itemRef.getDownloadURL(), ...await itemRef.getMetadata()})\n            }\n            console.log(t)\n            setImagePosts(t);\n            setLoading(false);\n        });\n    }, []) ;\n\n    return <>\n        <Typography.Title>Image Post Moderation</Typography.Title>\n        {\n            loading && <>\n                <Spin size='large' tip='Loading imagePosts from database...' />\n            </>\n        }\n        {\n            (imagePosts.length === 0 && !loading) && <Typography.Text >\n                No Photos to moderate. Yay! :D\n            </Typography.Text>\n        }\n        {\n            (imagePosts.length !== 0 && !loading) && <Collapse defaultActiveKey={['1']} style={{borderRadius: 7}} destroyInactivePanel>\n                {\n                    imagePosts.map(imagePost =>\n                        <Collapse.Panel header={imagePost.customMetadata.title} key={imagePost.name}\n                                        extra={<Popover destroyTooltipOnHide visible={openDel === imagePost.name}\n                                                        onVisibleChange={v => v ? setOpenDel(imagePost.name) : setOpenDel(null)}\n                                                        content={<Layout onClick={e => e.stopPropagation()}>\n                                                            <Typography.Text style={{fontWeight: 700, fontSize: '1.2em'}}>\n                                                                Confirm Delete\n                                                            </Typography.Text>\n                                                            <Typography.Text>This action cannot be undone</Typography.Text>\n                                                            <Button danger type='primary' onClick={() => {\n                                                                storage.ref('userPostImages/'+imagePost.name).delete().then(() => {\n                                                                    message.success(`Deleted imagePost '${imagePost.customMetadata.title}'`).then();\n                                                                    setOpenDel(null);\n                                                                }).catch(e => {\n                                                                    console.error(e);\n                                                                    message.error(\"Couldn't delete imagePost. Please try again later\")\n                                                                        .then();\n                                                                })\n                                                            }} style={{marginTop: '.25rem'}}>Delete Permanently</Button>\n                                                        </Layout>} trigger='click' onClick={e => {\n                                            e.stopPropagation();\n                                        }}><Button icon={<DeleteOutlined style={{fontSize: 20}} />} danger size='small' type='text' />\n                                        </Popover>}>\n                            <Layout>\n                                <Typography.Title level={5}>Information for imagePost '{imagePost.customMetadata.title}'</Typography.Title>\n                                <Typography.Text>Description: <span style={{fontWeight: 600}}>{imagePost.customMetadata.caption}</span></Typography.Text>\n                                <Typography.Text>\n                                    Time Added: <span style={{fontWeight: 600}}>{imagePost.timeCreated}</span>\n                                </Typography.Text>\n                                <Typography.Title level={5}>Cover Image</Typography.Title>\n                                <Space style={{marginBottom: '.5rem'}}>\n                                    <Image width='auto' height={150} src={imagePost.URL ?? ''} style={{width: 'auto', borderRadius: 5}}\n                                           fallback={placeholder}\n                                    />\n                                </Space>\n                            </Layout>\n                        </Collapse.Panel>\n                    )\n                }\n            </Collapse>\n        }\n    </>\n}","import { Layout } from 'antd';\nimport { Switch, HashRouter as Router, Route } from 'react-router-dom';\n\n// Custom components\nimport AddArticle from './subpages/AddArticle';\nimport SideMenu from './fragments/SideMenu';\nimport NotFound from './subpages/NotFound';\nimport TopAppBar from './fragments/TopAppBar';\nimport Landing from './subpages/Landing';\nimport LinkMgmt from './subpages/LinkMgmt';\nimport ArticleMgmt from './subpages/ArticleMgmt';\nimport ImgMgmt from \"./subpages/ImgMgmt\";\n\nconst pages = [\n    {path: 'addArticle', name: 'Add Articles', elem: <AddArticle />},\n    {path: 'articleMgmt', name: 'Manage Articles', elem: <ArticleMgmt />},\n    {path: 'linkMgmt', name: 'Manage Related Links', elem: <LinkMgmt />},\n    {path: 'imgMod', name: 'Image Post Moderation', elem: <ImgMgmt />}\n]\n\nexport default function App() {\n    return <>\n        <Router>\n            <Layout style={{minHeight: '100vh'}}>\n                <Switch>\n                    {\n                        pages.map(p => <Route path={'/' + p.path} key={p.name}><TopAppBar page={p.name} /></Route>)\n                    }\n                    <Route exact path='/'><TopAppBar page='Home' /></Route>\n                    <Route><TopAppBar page='404 - Not Found' /></Route>\n                </Switch>\n                <Layout style={{flexDirection: 'row'}}>\n                    <Switch>\n                        {\n                            pages.map(p => <Route path={'/' + p.path} key={p.path}><SideMenu page={p.path} ps={pages} /></Route>)\n                        }\n                        <Route><SideMenu page='' ps={pages} /></Route>\n                    </Switch>\n                    <Layout style={{padding: '.75rem'}}>\n                        <Switch>\n                            {\n                                pages.map(p => <Route path={'/' + p.path} key={p.elem}>{p.elem}</Route>)\n                            }\n                            <Route exact path='/'><Landing /></Route>\n                            <Route><NotFound /></Route>\n                        </Switch>\n                    </Layout>\n                </Layout>\n            </Layout>\n        </Router>\n    </>\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// Entry point\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'antd/dist/antd.dark.css'; // or 'antd/dist/antd.less'\nimport './index.css';\n\n// Import firebase stuff\nimport firebase from 'firebase/app';\nimport 'firebase/analytics';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport 'firebase/storage'\nimport 'firebase/app-check';\n\nconst firebaseConfig = {\n    apiKey: 'AIzaSyDkJIx8hbU_5-8aPBzfsKi1vHwQliKG5hg',\n    authDomain: 'ne-edu.firebaseapp.com',\n    projectId: 'ne-edu',\n    storageBucket: 'ne-edu.appspot.com',\n    messagingSenderId: '296273538078',\n    appId: '1:296273538078:web:dda01455949345d57b520f',\n    measurementId: 'G-0XJHB0Z6JV'\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nfirebase.appCheck().activate('6LedN1kbAAAAAFFSX5v4tpkG2xY0lVRSkm9fP90f');\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}