{"version":3,"sources":["lib/antd-tinymce.js","subpages/AddArticle.js","fragments/ArticleCardPreview.js","assets/cardDefBg.webp","fragments/SideMenu.js","subpages/NotFound.js","fragments/SignIn.js","fragments/TopAppBar.js","subpages/Landing.js","subpages/LinkMgmt.js","subpages/ArticleMgmt.js","assets/placeholder.svg","App.js","reportWebVitals.js","index.js"],"names":["defaultPlugins","defaultMenubar","defaultToolbar","join","defaultOptions","menubar","apiKey","Editor","nextProps","nextState","nextContext","this","props","value","onChange","plugins","toolbar","options","initOptions","Object","assign","initialValue","init","onEditorChange","React","Component","config","key","setDefaultPlugins","setDefaultMenubar","setDefaultToolbar","setDefaultOptions","db","storageRef","memo","setVote","vote","imgURL","sum","title","hideVote","style","border","borderRadius","overflow","maxWidth","flexDirection","flex","width","alignItems","shape","type","icon","ArrowUpOutlined","fontSize","onClick","o","v","margin","Text","fontWeight","lineHeight","textAlign","color","placement","ArrowDownOutlined","flexGrow","marginBottom","QuestionCircleOutlined","padding","Title","trim","length","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","aspectRatio","AddArticle","Form","useForm","form","useState","setTitle","setSum","setHideVote","mockVotes","setMockVotes","user","setUser","coverURL","setCoverURL","uploading","setUploading","editorRef","useRef","useEffect","firebase","auth","onAuthStateChanged","firestore","storage","ref","previewImg","file","a","src","url","Promise","resolve","reader","FileReader","readAsDataURL","originFileObj","onload","result","Image","window","open","document","write","name","onFinish","console","log","collection","doc","Date","toString","set","body","fileUpload","response","downloadURL","uid","then","updateMetadata","customMetadata","resetFields","message","success","catch","e","warn","error","onValuesChange","c","localStorage","tempArticle","compress","JSON","stringify","initialValues","parse","decompress","Item","label","rules","required","target","extra","onInit","editor","current","contextmenu","images_reuse_filename","images_upload_handler","info","failure","progress","task","child","uuidv4","filename","put","blob","on","snapshot","bytesTransferred","totalBytes","getDownloadURL","branding","skin","skin_url","checked","checkedChildren","CheckOutlined","unCheckedChildren","CloseOutlined","Dragger","customRequest","opt","onSuccess","onError","onProgress","percent","maxCount","listType","onPreview","beforeUpload","isJpgOrPng","isLt2M","size","Upload","LIST_IGNORE","onRemove","d","delete","className","FileImageOutlined","htmlType","loading","DeleteOutlined","onConfirm","okButtonProps","danger","okText","cancelText","marginLeft","level","cardPlaceholder","marginTop","SubMenu","Menu","menuKeys","menuMap","add","man","mod","page","includes","openKeys","setOpenKeys","onOpenChange","keys","latestOpenKey","find","indexOf","location","selectedKeys","mode","PlusOutlined","UnorderedListOutlined","SafetyOutlined","status","subTitle","href","uiConfig","signInFlow","callbacks","signInSuccess","signInOptions","SignIn","visible","setVisible","usrInfo","setUsrInfo","isLoggedIn","Boolean","displayName","email","centered","destroyOnClose","footer","onOk","onCancel","code","LogoutOutlined","signOut","firebaseAuth","loginOpen","setLoginOpen","onBack","history","back","UserOutlined","HomeOutlined","marginRight","MenuOutlined","LinkMgmt","ArticleMgmt","articles","setArticles","setLoading","openDel","setOpenDel","onSnapshot","snap","t","forEach","push","data","_key","id","tip","defaultActiveKey","destroyInactivePanel","map","article","Panel","header","destroyTooltipOnHide","onVisibleChange","content","stopPropagation","trigger","parseInt","height","fallback","placeholder","dangerouslySetInnerHTML","__html","DomPurify","sanitize","ADD_TAGS","ADD_ATTR","italic","addHook","node","tagName","getAttribute","startsWith","parentNode","removeChild","pages","path","elem","App","minHeight","p","exact","ps","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initializeApp","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","appCheck","activate","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5f3b2e85.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Editor as TinyMCE } from '@tinymce/tinymce-react';\n\nlet defaultPlugins = [\n    'advlist autolink lists link image charmap print preview anchor hr',\n    'searchreplace visualblocks fullscreen',\n    'insertdatetime table paste code wordcount'\n];\nlet defaultMenubar = 'file edit view insert format tools table tc';\nlet defaultToolbar = [\n    'formatselect bold italic underline forecolor',\n    'alignleft aligncenter alignright alignjustify bullist numlist outdent indent',\n    'link',\n    'undo redo',\n    'hr fullscreen',\n].join('|');\nlet defaultOptions = {\n    menubar: 'edit insert format table'\n}\n\n// apiKey for TinyMCE\nlet apiKey = 'jmqj7w1ihjd7561wrckugckoxwytq694mx57h29bonaq86it';\n\nclass Editor extends React.Component {\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        return false;\n    }\n\n    render() {\n        const { value, onChange, plugins, menubar, toolbar, options = {}, ...props } = this.props;\n        let initOptions = Object.assign({}, defaultOptions, options);\n\n        return (\n            <TinyMCE\n                {...props}\n                apiKey={ apiKey }\n                initialValue={ value }\n                init={{\n                    plugins: typeof plugins !== 'undefined' ? plugins : defaultPlugins,\n                    menubar: typeof menubar !== 'undefined' ? menubar : defaultMenubar,\n                    toolbar: typeof toolbar !== 'undefined' ? toolbar : defaultToolbar,\n                    ...initOptions,\n                }}\n                onEditorChange={ onChange } />\n        );\n    }\n}\n\nEditor.config = key => apiKey = key;\nEditor.setDefaultPlugins = plugins => defaultPlugins = plugins;\nEditor.setDefaultMenubar = menubar => defaultMenubar = menubar;\nEditor.setDefaultToolbar = toolbar => defaultToolbar = toolbar;\nEditor.setDefaultOptions = options => defaultOptions = options;\n\nEditor.propTypes = {\n    plugins: PropTypes.array,\n    toolbar: PropTypes.string,\n    menubar: PropTypes.oneOfType([ PropTypes.string, PropTypes.bool ]),\n    onChange: PropTypes.func,\n    value: PropTypes.string,\n}\n\nexport default Editor;","import { Typography, Form, Input, Switch, Button, Upload, Popconfirm, message } from 'antd';\nimport Editor from '../lib/antd-tinymce';\nimport { CloseOutlined,\n    CheckOutlined,\n    FileImageOutlined,\n    DeleteOutlined,\n} from '@ant-design/icons';\nimport { useEffect, useRef, useState } from 'react';\n\nimport firebase from 'firebase/app';\nimport { v4 as uuidv4 } from 'uuid';\nimport {compress, decompress} from 'lz-string';\nimport ArticleCardPreview from '../fragments/ArticleCardPreview';\n\nimport cardPlaceholder from '../assets/cardDefBg.webp';\n\nlet db, storageRef;\n\nexport default function AddArticle() {\n    const [form] = Form.useForm();\n\n    const [title, setTitle] = useState(''),\n        [sum, setSum] = useState(''),\n        [hideVote, setHideVote] = useState(false),\n        [mockVotes, setMockVotes] = useState(0),\n        [user, setUser] = useState({}),\n        [coverURL, setCoverURL] = useState(null),\n        [uploading, setUploading] = useState(false),\n        editorRef = useRef();\n\n    useEffect(() => {\n        firebase.auth().onAuthStateChanged(setUser);\n        db = firebase.firestore();\n        storageRef = firebase.storage().ref();\n    }, []);\n\n    const uploadImg = opt => {\n        const { onSuccess, onError, file, onProgress } = opt;\n        const task = storageRef.child('articleAttachments/' + uuidv4() + '-' + file.name).put(file);\n\n        task.on('state_changed', (snapshot) =>\n            {\n                // Observe state change events such as progress, pause, and resume\n                // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                onProgress({ percent: progress });\n            },\n            (error) => {\n                // Handle unsuccessful uploads\n                onError('Upload failed: ' + error.message);\n            },\n            () => {\n                // Handle successful uploads on complete\n                // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n                task.snapshot.ref.getDownloadURL().then((downloadURL) => {\n                    setCoverURL(downloadURL);\n                    onSuccess({\n                        downloadURL,\n                        ref: task.snapshot.ref\n                    });\n                });\n            }\n        );\n    }\n\n    const verifyUpload = file => {\n        const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png' || file.type === 'image/webp';\n        if (!isJpgOrPng) message.error('Unsupported file format').then();\n        const isLt2M = file.size / 1024 / 1024 < 5;\n        if (!isLt2M) message.error('Image must smaller than 5MB').then();\n        return (isJpgOrPng && isLt2M) ? true : Upload.LIST_IGNORE;\n    }\n\n    const previewImg = async file => {\n        let src = file.url;\n        if (!src) {\n            src = await new Promise(resolve => {\n                const reader = new FileReader();\n                reader.readAsDataURL(file.originFileObj);\n                reader.onload = () => resolve(reader.result);\n            });\n        }\n        const image = new Image();\n        image.src = src;\n        const imgWindow = window.open(src);\n        imgWindow.document.write(`<head><title>NE Admin - Preview of ${file.name}</title></head><body style=\"margin:0;min-height:100vh;\n        background-image:url('${src}');background-size:contain;background-position:center;background-repeat:no-repeat;background-color:#000\">\n        </body>`);\n    };\n\n    const tinyMCEUpload = (info, success, failure, progress) => {\n        const task = storageRef.child('editorImages/' + uuidv4() + '-' + info.filename()).put(info.blob());\n\n        task.on('state_changed', (snapshot) =>\n            {\n                // Observe state change events such as progress, pause, and resume\n                // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                progress((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n            },\n            (error) => {\n                // Handle unsuccessful uploads\n                failure('Upload failed: ' + error.message);\n            },\n            () => {\n                // Handle successful uploads on complete\n                // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n                task.snapshot.ref.getDownloadURL().then((downloadURL) => {\n                    success(downloadURL);\n                });\n            }\n        );\n    }\n\n    return <>\n        <Typography.Title>Add Articles</Typography.Title>\n        <Form\n            form={form}\n            onFinish={v => {\n                setUploading(true);\n                console.log(v)\n                db.collection('articles').doc((+new Date()).toString()).set({\n                    title: v.title, sum: v.sum, body: v.body, hideVote: !!v.hideVote, coverURL: v.fileUpload.file.response.downloadURL,\n                    uid: user.uid,\n                }).then(() => {\n                    v.fileUpload.file.response.ref.updateMetadata({\n                        customMetadata: {\n                            'permanent': 'yes',\n                        }\n                    }).then(() => {\n                        // metadata.contentType should be null\n                        setUploading(false);\n                        form.resetFields();\n                        message.success('Added article').then();\n                    }).catch(e => {\n                        // Uh-oh, an error occurred!\n                        setUploading(false);\n                        form.resetFields();\n                        message.warn('Added article but failed to modify file metadata');\n                    });\n                }).catch(e => {\n                    setUploading(false);\n                    message.error('We ran into an error adding this article. Please try again later').then();\n                    console.error(e);\n                });\n            }}\n            onValuesChange={(c, v) => localStorage.tempArticle = compress(JSON.stringify(v))}\n            initialValues={localStorage.tempArticle ? JSON.parse(decompress(localStorage.tempArticle)) : {}}\n            name='article'>\n            <Form.Item label='Title'\n                       name='title'\n                       rules={[{required: true, message: 'Imagine an article without a title...'}]}>\n                <Input onChange={e => setTitle(e.target.value)} />\n            </Form.Item>\n            <Form.Item label='Description/summary' onChange={e => setSum(e.target.value)} name='sum'\n                       rules={[{required: true, message: 'An article without a summary is boring...'}]}\n                       extra='A short summary of this article, displayed below the title in the article card'><Input /></Form.Item>\n\n            <Form.Item label='Body' name='body' extra='Drag the lower right corner of editor to resize'\n                       rules={[{ required: true, message: 'Article without body = no article' }]}>\n                <Editor onInit={(e, editor) => editorRef.current = editor}\n                        options={{\n                            contextmenu: 'copy paste',\n                            images_reuse_filename: true,\n                            images_upload_handler: tinyMCEUpload,\n                            branding: false,\n                            skin: 'custom_dark',\n                            skin_url: 'https://cryptoalgorithm.github.io/tinyMCE-theme/custom_dark'\n                        }}\n                />\n            </Form.Item>\n\n            <Form.Item label='Hide votes' extra='Number of votes will not appear and can only be viewed by admins' name='hideVote'>\n                <Switch\n                    checked={hideVote}\n                    onChange={setHideVote}\n                    checkedChildren={<CheckOutlined />}\n                    unCheckedChildren={<CloseOutlined />}/>\n            </Form.Item>\n            <Form.Item label='Upload cover image' name='fileUpload'\n                       extra='Recommended dimensions: at least 600px wide, 16:9 aspect ratio, smaller than 10MB'\n                       rules={[{ required: true, message: 'Please input your username!' }]}>\n                <Upload.Dragger name='files' customRequest={uploadImg} maxCount={1} listType='picture-card' onPreview={previewImg}\n                                beforeUpload={verifyUpload} onRemove={d => d.response.ref.delete().then(() => {\n                    message.success('Deleted file ' + d.name).then();\n                    setCoverURL(null);\n                }).catch(e => {\n                    console.error(e);\n                    message.error('Failed to delete file ' + d.name).then();\n                })}>\n                    <p className='ant-upload-drag-icon'>\n                        <FileImageOutlined />\n                    </p>\n                    <p className='ant-upload-text'>Click or drag an image to this area to upload</p>\n                    <p className='ant-upload-hint'>This image will be displayed in the article card</p>\n                </Upload.Dragger>\n            </Form.Item>\n\n            <Form.Item>\n                <Button type='primary' htmlType='submit' loading={uploading}>Add article</Button>\n                <Popconfirm\n                    icon={<DeleteOutlined style={{color: 'red'}} />}\n                    title='Clear form? Removes all entered data and cannot be undone'\n                    onConfirm={() => form.resetFields()}\n                    okButtonProps={{danger: true}}\n                    okText='Clear'\n                    cancelText='Cancel'>\n                    <Button danger htmlType='button' style={{marginLeft: '.5rem'}}>Clear form</Button>\n                </Popconfirm>\n            </Form.Item>\n        </Form>\n\n        <Typography.Title level={4}>Article Card Preview</Typography.Title>\n        <Typography.Text>A preview of the article card as it would be displayed</Typography.Text>\n\n        <ArticleCardPreview setVote={setMockVotes} vote={mockVotes} imgURL={coverURL ?? cardPlaceholder}\n                            style={{marginTop: '1rem'}} {...{sum, title, hideVote}} />\n    </>\n}\n","import { memo } from 'react';\nimport { Typography, Button, Layout, Tooltip } from 'antd';\nimport { ArrowUpOutlined,\n    ArrowDownOutlined,\n    QuestionCircleOutlined,\n} from '@ant-design/icons';\n\nexport default memo(function ArticleCardPreview({setVote, vote, imgURL, sum, title, hideVote, style}) {\n    return <div style={{border: '1px solid #444', borderRadius: 7, overflow: 'hidden', maxWidth: 640, ...style}}>\n        <Layout style={{flexDirection: 'row'}}>\n            <Layout style={{flex: 'none', width: 48, alignItems: 'center'}}>\n                <Tooltip title='Upvote'>\n                    <Button shape='circle' type='text' icon={<ArrowUpOutlined style={{fontSize: '1.2em'}} />}\n                            onClick={() => {\n                                let o = true;\n                                setVote(v => {\n                                    if (!o) return v;\n                                    o = false;\n                                    return ++v;\n                                });\n                            }}\n                            style={{margin: '6px 6px 0 6px'}} />\n                </Tooltip>\n                <Typography.Text style={{fontWeight: 500, fontSize: '0.875rem', lineHeight: 1.57, textAlign: 'center',\n                    color: 'rgba(255, 255, 255, .7)'}}>{hideVote ? 'Vote' : vote}</Typography.Text>\n                <Tooltip title='Downvote' placement='bottom'>\n                    <Button shape='circle' type='text'\n                            onClick={() => {\n                                let o = true;\n                                setVote(v => {\n                                    if (!o) return v;\n                                    o = false;\n                                    return --v;\n                                });\n                            }}\n                            icon={<ArrowDownOutlined style={{fontSize: '1.2em'}} />} />\n                </Tooltip>\n                <div style={{flexGrow: 1}} />\n                <Tooltip title='Info'>\n                    <Button shape='circle' type='text' style={{marginBottom: 12}}\n                            icon={<QuestionCircleOutlined style={{fontSize: '1.5em'}} />} />\n                </Tooltip>\n            </Layout>\n            <Layout>\n                <Layout style={{padding: '6px 10px 10px'}}>\n                    <Typography.Title style={{fontWeight: 500, fontSize: '1.25rem', lineHeight: 1.6, marginBottom: 0}}>\n                        {title.trim().length === 0 ? 'Article Title' : title}\n                    </Typography.Title>\n                    <Typography.Text style={{fontWeight: 400, fontSize: '0.875rem', lineHeight: 1.43, color: 'rgba(255, 255, 255, .7)'}}>\n                        {sum.trim().length === 0 ? 'Article Description/summary' : sum}\n                    </Typography.Text>\n                </Layout>\n                <div style={{\n                    backgroundImage: `url(\"${imgURL}\")`,\n                    backgroundSize: 'contain',\n                    backgroundRepeat: 'no-repeat',\n                    backgroundPosition: 'center',\n                    aspectRatio: '16/9',\n                    width: '100%'\n                }} />\n            </Layout>\n        </Layout>\n    </div>\n})","export default __webpack_public_path__ + \"static/media/cardDefBg.e6e41d76.webp\";","import { memo, useState } from 'react';\nimport { Menu } from 'antd';\nimport { UnorderedListOutlined, SafetyOutlined, PlusOutlined } from '@ant-design/icons';\n\nconst { SubMenu } = Menu;\n\nconst menuKeys = ['add', 'man', 'mod'];\n\nconst menuMap = {\n    add: ['addArticle'],\n    man: ['articleMgmt', 'linkMgmt'],\n    mod: ['imgMod'],\n}\n\nexport default memo(function SideMenu({page}) {\n    const [openKeys, setOpenKeys] = useState((() => {\n        for (let key in menuMap) if (menuMap[key].includes(page)) return [key];\n        return [];\n    })());\n\n    const onOpenChange = keys => {\n        const latestOpenKey = keys.find(key => openKeys.indexOf(key) === -1);\n        if (menuKeys.indexOf(latestOpenKey) === -1) {\n            setOpenKeys(keys);\n        } else {\n            setOpenKeys(latestOpenKey ? [latestOpenKey] : []);\n        }\n    };\n\n    return <Menu\n        onOpenChange={onOpenChange}\n        openKeys={openKeys}\n        onClick={e => document.location = '/' + e.key}\n        style={{ width: 256 }}\n        selectedKeys={page}\n        mode='inline'>\n        <SubMenu key='add' icon={<PlusOutlined />} title='Add'>\n            <Menu.Item key='addArticle'>Add Articles</Menu.Item>\n        </SubMenu>\n        <SubMenu key='man' icon={<UnorderedListOutlined />} title='Manage'>\n            <Menu.Item key='articleMgmt'>Article Management</Menu.Item>\n            <Menu.Item key='linkMgmt'>Link Management</Menu.Item>\n        </SubMenu>\n        <SubMenu key='mod' icon={<SafetyOutlined />} title='Moderate'>\n            <Menu.Item key='imgMod'>Image Post Moderation</Menu.Item>\n        </SubMenu>\n    </Menu>\n})","import { Result, Button } from 'antd';\nimport { memo } from 'react';\n\nexport default memo(function NotFound() {\n    return <>\n        <Result\n            status='404'\n            title='Error 404 - Not found'\n            subTitle=\"Oops, the page you're looking for could not be found\"\n            extra={<Button type='primary' href='/'>Go to home</Button>}\n        />\n    </>\n});","import { Button, Modal, Typography, Layout } from 'antd';\nimport { LogoutOutlined } from '@ant-design/icons';\n\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\n\nimport { useEffect, useState } from 'react';\n\nimport firebase from 'firebase/app';\n\nconst uiConfig = {\n    // Popup signin flow rather than redirect flow.\n    signInFlow: 'popup',\n    callbacks: {\n        signInSuccess: () => false, // Do not redirect\n    },\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [\n        'microsoft.com',\n    ],\n};\n\nexport default function SignIn({visible, setVisible}) {\n    const [usrInfo, setUsrInfo] = useState({}),\n    isLoggedIn = Boolean(usrInfo);\n\n    useEffect(() => {\n        firebase.auth().onAuthStateChanged((user) => setUsrInfo(!!user ? {name: user.displayName, uid: user.uid, email: user.email} : null))\n    }, []);\n\n    return <Modal title='Account'\n                  centered\n                  destroyOnClose\n                  footer={[<Button onClick={() => setVisible(false)} key='close'>Close</Button>]}\n                  visible={visible}\n                  onOk={() => setVisible(false)}\n                  onCancel={() => setVisible(false)}>\n        {\n            isLoggedIn && <Layout>\n                <Typography.Title level={4}>User Info</Typography.Title>\n                <Typography.Text>Display Name: {usrInfo.name}</Typography.Text>\n                <Typography.Text>Email: {usrInfo.email}</Typography.Text>\n                <Typography.Text>UID:<Typography.Text code>{usrInfo.uid}</Typography.Text></Typography.Text>\n                <Typography.Text type='secondary' style={{marginTop: '.25rem'}}>This info is private and only visible to you</Typography.Text>\n\n                <Button style={{marginTop: '.5rem'}} icon={<LogoutOutlined />} danger onClick={() => firebase.auth().signOut()}>Sign out</Button>\n            </Layout>\n        }\n        {!isLoggedIn && <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />}\n    </Modal>\n}","import { memo, useState } from 'react';\nimport { PageHeader, Button } from 'antd';\nimport { UserOutlined } from '@ant-design/icons';\nimport SignIn from './SignIn';\n\nexport default memo(function TopAppBar({page}) {\n    const [loginOpen, setLoginOpen] = useState(false);\n\n    return <>\n            <PageHeader\n            onBack={() => window.history.back()}\n            title='NE Things Admin'\n            subTitle={page}\n            extra={[<Button type='primary' icon={<UserOutlined />} onClick={() => setLoginOpen(true)} key='login'>Account</Button>]}\n        />\n        <SignIn visible={loginOpen} setVisible={setLoginOpen} />\n    </>\n})","import { Typography } from 'antd';\nimport { memo } from 'react';\n\nimport { HomeOutlined, MenuOutlined } from '@ant-design/icons';\n\nexport default memo(function Landing() {\n    return <>\n        <HomeOutlined style={{fontSize: '12em', marginBottom: '1rem', marginRight: 'auto'}} />\n        <Typography.Title>Hi there!</Typography.Title>\n        <Typography.Text>Click on one of the items in the menu <MenuOutlined /> to get started!</Typography.Text>\n    </>\n});","import { Typography } from 'antd';\n\nexport default function LinkMgmt() {\n    return <>\n        <Typography.Title>Link Management</Typography.Title>\n\n    </>\n}","import { Typography, Collapse, Popover, Button, Layout, Spin, Image, Space, message } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\n\nimport '../article.css';\n\nimport placeholder from '../assets/placeholder.svg';\n\nimport DomPurify from 'dompurify';\n\nimport firebase from 'firebase/app';\nimport { useEffect, useState } from 'react';\nimport ArticleCardPreview from '../fragments/ArticleCardPreview';\nimport cardPlaceholder from '../assets/cardDefBg.webp';\n\nlet db;\n\nDomPurify.addHook('uponSanitizeElement', (node, data) => {\n    if (data.tagName === 'iframe') {\n        const src = node.getAttribute('src') || '';\n        if (!src.startsWith('https://www.youtube.com/embed/')) {\n            return node.parentNode.removeChild(node);\n        }\n    }\n});\n\nexport default function ArticleMgmt() {\n    const [articles, setArticles] = useState([]),\n        [loading, setLoading] = useState(true),\n        [openDel, setOpenDel] = useState(null);\n\n    useEffect(() => {\n        db = firebase.firestore();\n\n        db.collection('articles')\n            .onSnapshot(snap => {\n                const t = [];\n                snap.forEach(doc => t.push({ ...doc.data(), _key: doc.id }));\n                setArticles(t);\n                setLoading(false);\n            });\n    }, []);\n\n    return <>\n        <Typography.Title>Article Management</Typography.Title>\n        {\n            loading && <>\n                <Spin size='large' tip='Loading articles from database...' />\n            </>\n        }\n        {\n            (articles.length === 0 && !loading) && <Typography.Text >\n                No Articles. Go to \"Add Articles\" to add the first article!\n            </Typography.Text>\n        }\n        {\n            (articles.length !== 0 && !loading) && <Collapse defaultActiveKey={['1']} style={{borderRadius: 7}} destroyInactivePanel>\n                {\n                    articles.map(article =>\n                        <Collapse.Panel header={article.title} key={article._key}\n                                        extra={<Popover destroyTooltipOnHide visible={openDel === article._key}\n                                                        onVisibleChange={v => v ? setOpenDel(article._key) : setOpenDel(null)}\n                                                        content={<Layout onClick={e => e.stopPropagation()}>\n                                                            <Typography.Text style={{fontWeight: 700, fontSize: '1.2em'}}>\n                                                                Confirm Delete\n                                                            </Typography.Text>\n                                                            <Typography.Text>This action cannot be undone</Typography.Text>\n                                                            <Button danger type='primary' onClick={() => {\n                                                                db.collection('articles').doc(article._key).delete().then(() =>\n                                                                    message.success(`Deleted article '${article.title}'`).then())\n                                                                    .catch(e => {\n                                                                        console.error(e);\n                                                                        message.error(\"Couldn't delete article. Please try again later\")\n                                                                            .then();\n                                                                });\n                                                                setOpenDel(null); // Close popover\n                                                            }} style={{marginTop: '.25rem'}}>Delete Permanently</Button>\n                                                        </Layout>} trigger='click' onClick={e => {\n                                            // Prevent click from propagating to collapse\n                                            e.stopPropagation();\n                                        }}><Button icon={<DeleteOutlined style={{fontSize: 20}} />} danger size='small' type='text' />\n                                        </Popover>}>\n                            <Layout>\n                                <Typography.Title level={5}>Information for article '{article.title}'</Typography.Title>\n                                <Typography.Text>Description: <span style={{fontWeight: 600}}>{article.sum}</span></Typography.Text>\n                                <Typography.Text>Votes are&nbsp;\n                                    <span style={{fontWeight: 600, color: article.hideVote ? 'red' : 'green'}}>\n                                    {article.hideVote ? 'hidden' : 'visible'}\n                                </span>\n                                </Typography.Text>\n                                <Typography.Text>\n                                    Time Added: <span style={{fontWeight: 600}}>{new Date(parseInt(article._key.toString())).toString()}</span>\n                                </Typography.Text>\n\n                                <Typography.Title level={5}>Cover Image</Typography.Title>\n                                <Space style={{marginBottom: '.5rem'}}>\n                                    <Image width='auto' height={150} src={article.coverURL ?? ''} style={{width: 'auto', borderRadius: 5}}\n                                           fallback={placeholder}\n                                    />\n                                </Space>\n\n                                <Collapse style={{borderRadius: 6}} destroyInactivePanel>\n                                    <Collapse.Panel header='Article Body'>\n                                        <div dangerouslySetInnerHTML={{__html: DomPurify.sanitize(article.body, {\n                                                ADD_TAGS: ['iframe'], // or ALLOWED_TAGS\n                                                ADD_ATTR: ['allow', 'allowfullscreen', 'frameborder', 'scrolling'],//or //or ALLOWED_ATR\n                                            })}} className='artCont'\n                                             style={{padding: '1rem', borderRadius: 5, border: '1px solid #444'}} />\n                                        <Typography.Text type='secondary' italic={1} style={{marginTop: '.1rem'}}>\n                                            This is a preview - There might be subtle differences when viewed on the website\n                                        </Typography.Text>\n                                    </Collapse.Panel>\n                                    <Collapse.Panel header='Card Preview'>\n                                        <ArticleCardPreview setVote={() => {}} vote={0} style={{margin: 'auto'}} hideVote={article.hideVote}\n                                                            imgURL={article.coverURL ?? cardPlaceholder} title={article.title} sum={article.sum}\n                                        />\n                                    </Collapse.Panel>\n                                </Collapse>\n                            </Layout>\n                        </Collapse.Panel>\n                    )\n                }\n            </Collapse>\n        }\n    </>\n}","export default __webpack_public_path__ + \"static/media/placeholder.9c0edb23.svg\";","import { Layout } from 'antd';\nimport { Switch, BrowserRouter as Router, Route } from 'react-router-dom';\n\n// Custom components\nimport AddArticle from './subpages/AddArticle';\nimport SideMenu from './fragments/SideMenu';\nimport NotFound from './subpages/NotFound';\nimport TopAppBar from './fragments/TopAppBar';\nimport Landing from './subpages/Landing';\nimport LinkMgmt from './subpages/LinkMgmt';\nimport ArticleMgmt from './subpages/ArticleMgmt';\n\nconst pages = [\n    {path: 'addArticle', name: 'Add Articles', elem: <AddArticle />},\n    {path: 'articleMgmt', name: 'Manage Articles', elem: <ArticleMgmt />},\n    {path: 'linkMgmt', name: 'Manage Related Links', elem: <LinkMgmt />},\n]\n\nexport default function App() {\n    return <>\n        <Router>\n            <Layout style={{minHeight: '100vh'}}>\n                <Switch>\n                    {\n                        pages.map(p => <Route path={'/' + p.path} key={p.name}><TopAppBar page={p.name} /></Route>)\n                    }\n                    <Route exact path='/'><TopAppBar page='Home' /></Route>\n                    <Route><TopAppBar page='404 - Not Found' /></Route>\n                </Switch>\n                <Layout style={{flexDirection: 'row'}}>\n                    <Switch>\n                        {\n                            pages.map(p => <Route path={'/' + p.path} key={p.path}><SideMenu page={p.path} ps={pages} /></Route>)\n                        }\n\n                        <Route><SideMenu page='' ps={pages} /></Route>\n                    </Switch>\n                    <Layout style={{padding: '.75rem'}}>\n                        <Switch>\n                            {\n                                pages.map(p => <Route path={'/' + p.path} key={p.elem}>{p.elem}</Route>)\n                            }\n                            <Route exact path='/'><Landing /></Route>\n                            <Route><NotFound /></Route>\n                        </Switch>\n                    </Layout>\n                </Layout>\n            </Layout>\n        </Router>\n    </>\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// Entry point\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'antd/dist/antd.dark.css'; // or 'antd/dist/antd.less'\nimport './index.css';\n\n// Import firebase stuff\nimport firebase from 'firebase/app';\nimport 'firebase/analytics';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport 'firebase/storage'\nimport 'firebase/app-check';\n\nconst firebaseConfig = {\n    apiKey: 'AIzaSyDkJIx8hbU_5-8aPBzfsKi1vHwQliKG5hg',\n    authDomain: 'ne-edu.firebaseapp.com',\n    projectId: 'ne-edu',\n    storageBucket: 'ne-edu.appspot.com',\n    messagingSenderId: '296273538078',\n    appId: '1:296273538078:web:dda01455949345d57b520f',\n    measurementId: 'G-0XJHB0Z6JV'\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nfirebase.appCheck().activate('6LedN1kbAAAAAFFSX5v4tpkG2xY0lVRSkm9fP90f');\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}